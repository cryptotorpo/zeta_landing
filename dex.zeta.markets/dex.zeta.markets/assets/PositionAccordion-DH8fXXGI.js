import{r as g,j as e,s as A,S as D}from"./assets-Bn59xubp.js";import{a6 as O,y as m,a7 as v,a8 as y,a9 as I,E as n,F as o,G as w,aa as k,ab as L,ac as M,ad as B,P as z,ae as P,af as E,K as q}from"./index-BhO6kFRl.js";import"./__commonjsHelpers__-DZ6wOnC1.js";import{B as N,g as V,h as j,D as d,b as h,C as H,i as p,j as b,O as R,a as _,c as F,S as f,H as G,k as K,A as Q,l as U,d as Z,e as S,m as J,n as W,o as X,p as Y}from"./AnimatedDropdownArrow-CeiGlLqq.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new Error().stack;i&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[i]="033016fa-f888-4e75-975b-586df1765017",s._sentryDebugIdIdentifier="sentry-dbid-033016fa-f888-4e75-975b-586df1765017")}catch{}})();const $=({position:s,guestView:i})=>{const[r,a]=g.useState(!1),l=O(u=>u.setIsOpen),t=m(u=>u.prices[s.asset]),{canOpenTriggers:c}=v(s.asset),x=y(Math.abs(s.costOfTrades/s.size)),T=I(),C=y(T(s.asset));return e.jsxs(N,{children:[e.jsxs(V,{children:[e.jsxs(j,{children:[e.jsx(n,{header:"Quantity",body:o.positionsTable.quantity,children:e.jsx(d,{children:"Quantity"})}),e.jsx(h,{children:Math.abs(s.size)})]}),e.jsxs(j,{children:[e.jsx(n,{header:"Entry Price",body:o.positionsTable.entryPrice,children:e.jsx(d,{children:"Entry Price"})}),e.jsx(h,{children:x})]}),e.jsxs(j,{children:[e.jsx(n,{header:"Mark Price",body:o.positionsTable.markPrice,children:e.jsx(d,{children:"Mark Price"})}),e.jsx(h,{children:w(s.asset,t,{includeDollarSign:!0})})]}),e.jsxs(j,{children:[e.jsx(n,{header:"Estimated Liquidation Price",body:o.positionsTable.liquidationPrice,children:e.jsx(d,{children:"Liquidation Price"})}),e.jsx(h,{children:C})]})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsxs(H,{children:[e.jsx(p,{onClick:()=>a(!0),disabled:!c,children:e.jsx(b,{children:"Add TP/SL"})}),e.jsx(p,{onClick:()=>l(!0,s.asset),children:e.jsx(b,{children:"Close Position"})})]}),e.jsx(k,{asset:s.asset,onClose:()=>a(!1),open:r,title:"Take Profit / Stop Loss"})]})]})},ee=({asset:s})=>{const i=m(c=>c.prices[s]),r=L(c=>{var x;return(x=c.positions[s])==null?void 0:x.size}),a=Math.abs(r??0)*i,l=M(s),t=B(s,l??0,r??0,!0,1e3);return e.jsxs(R,{children:[e.jsxs(_,{children:[e.jsx(n,{header:"Trade Value",body:o.positionsTable.tradeValue,children:e.jsx(d,{children:"Trade Value"})}),e.jsx(h,{children:y(a,2,2)})]}),e.jsxs(F,{children:[e.jsx(n,{header:"Unrealized PNL",body:o.positionsTable.uPNL,children:e.jsx(d,{children:"UPNL"})}),e.jsx(z,{variant:"caption",delta:t==null?void 0:t.nominal,deltaPercentage:t==null?void 0:t.percentage,removeIcon:!0})]})]})},se=A(D).attrs(()=>({width:16,height:16})).withConfig({displayName:"StyledShareIcon",componentId:"sc-1gq0z0-0"})([""]),te=({side:s})=>s===P.Side.BID?e.jsx(f,{variant:"buy",textVariant:"label",children:"Long"}):e.jsx(f,{variant:"sell",textVariant:"label",children:"Short"}),re=({asset:s,size:i,isOpen:r})=>{const a=i>0?P.Side.BID:P.Side.ASK,l=E(t=>t.setAsset);return e.jsxs(G,{children:[e.jsxs(K,{children:[e.jsxs(Q,{children:[e.jsx(U,{asset:s}),e.jsxs(Z,{children:[e.jsx(S,{color:"primary",children:q(s)}),e.jsx(S,{color:"secondary",children:"-PERP"})]}),e.jsx(te,{side:a})]}),e.jsxs(J,{children:[e.jsx(W,{children:e.jsx(se,{onClick:t=>{t.stopPropagation(),l(s)}})}),e.jsx(X,{isOpen:r})]})]}),e.jsx(ee,{asset:s})]})},de=({position:s,guestView:i})=>{const[r,a]=g.useState(!1);return e.jsx(Y,{open:r,header:e.jsx(re,{asset:s.asset,size:s.size,isOpen:r}),body:e.jsx($,{position:s,guestView:i}),onAccordionClick:()=>a(!r)})};export{de as P,te as a};
//# sourceMappingURL=PositionAccordion-DH8fXXGI.js.map
